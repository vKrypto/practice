<!--|This file generated by command(leetcode description); DO NOT EDIT.    |-->
<!--+----------------------------------------------------------------------+-->
<!--|@author    openset <openset.wang@gmail.com>                           |-->
<!--|@link      https://github.com/openset                                 |-->
<!--|@home      https://github.com/openset/leetcode                        |-->
<!--+----------------------------------------------------------------------+-->

[< Previous](../remove-duplicate-letters "Remove Duplicate Letters")
　　　　　　　　　　　　　　　　
[Next >](../maximum-product-of-word-lengths "Maximum Product of Word Lengths")

## [317. Shortest Distance from All Buildings (Hard)](https://leetcode.com/problems/shortest-distance-from-all-buildings "离建筑物最近的距离")

<p>You want to build a house on an <i>empty</i> land which reaches all buildings in the shortest amount of distance. You can only move up, down, left and right. You are given a 2D grid of values <b>0</b>, <b>1</b> or <b>2</b>, where:</p>

<ul>
	<li>Each <b>0</b> marks an empty land which you can pass by freely.</li>
	<li>Each <b>1</b> marks a building which you cannot pass through.</li>
	<li>Each <b>2</b> marks an obstacle which you cannot pass through.</li>
</ul>

<p><strong>Example:</strong></p>

<pre>
<strong>Input:</strong> [[1,0,2,0,1],[0,0,0,0,0],[0,0,1,0,0]]

1 - 0 - 2 - 0 - 1
|   |   |   |   |
0 - 0 - 0 - 0 - 0
|   |   |   |   |
0 - 0 - 1 - 0 - 0

<strong>Output:</strong> 7 

<strong>Explanation:</strong> Given three buildings at <code>(0,0)</code>, <code>(0,4)</code>, <code>(2,2)</code>, and an obstacle at <code>(0,2),
             t</code>he point <code>(1,2)</code> is an ideal empty land to build a house, as the total 
&nbsp;            travel distance of 3+3+1=7 is minimal. So return 7.</pre>

<p><b>Note:</b><br />
There will be at least one building. If it is not possible to build such house according to the above rules, return -1.</p>

### Related Topics
  [[Breadth-first Search](../../tag/breadth-first-search/README.md)]

### Similar Questions
  1. [Walls and Gates](../walls-and-gates) (Medium)
  1. [Best Meeting Point](../best-meeting-point) (Hard)
  1. [As Far from Land as Possible](../as-far-from-land-as-possible) (Medium)
