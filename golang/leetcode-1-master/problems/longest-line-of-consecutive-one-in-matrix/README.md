<!--|This file generated by command(leetcode description); DO NOT EDIT.    |-->
<!--+----------------------------------------------------------------------+-->
<!--|@author    openset <openset.wang@gmail.com>                           |-->
<!--|@link      https://github.com/openset                                 |-->
<!--|@home      https://github.com/openset/leetcode                        |-->
<!--+----------------------------------------------------------------------+-->

[< Previous](../array-partition-i "Array Partition I")
　　　　　　　　　　　　　　　　
[Next >](../binary-tree-tilt "Binary Tree Tilt")

## [562. Longest Line of Consecutive One in Matrix (Medium)](https://leetcode.com/problems/longest-line-of-consecutive-one-in-matrix "矩阵中最长的连续1线段")

Given a 01 matrix <b>M</b>, find the longest line of consecutive one in the matrix. The line could be horizontal, vertical, diagonal or anti-diagonal.

<p><b>Example:</b><br />
<pre>
<b>Input:</b>
[[0,1,1,0],
 [0,1,1,0],
 [0,0,0,1]]
<b>Output:</b> 3
</pre>
</p>

<p>
<b>Hint:</b>
The number of elements in the given matrix will not exceed 10,000.
</p>

### Related Topics
  [[Array](../../tag/array/README.md)]

### Hints
<details>
<summary>Hint 1</summary>
One solution is to count ones in each direction separately and find the longest line. Don't you think  it will take too much lines of code?
</details>

<details>
<summary>Hint 2</summary>
Is it possible to use some extra space to make the solution simple?
</details>

<details>
<summary>Hint 3</summary>
Can we use dynamic programming to make use of intermediate results?
</details>

<details>
<summary>Hint 4</summary>
Think of a 3D array which can be used to store the longest line obtained so far for each direction.
</details>
