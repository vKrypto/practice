<!--|This file generated by command(leetcode description); DO NOT EDIT.    |-->
<!--+----------------------------------------------------------------------+-->
<!--|@author    openset <openset.wang@gmail.com>                           |-->
<!--|@link      https://github.com/openset                                 |-->
<!--|@home      https://github.com/openset/leetcode                        |-->
<!--+----------------------------------------------------------------------+-->

[< Previous](../power-of-three "Power of Three")
　　　　　　　　　　　　　　　　
[Next >](../odd-even-linked-list "Odd Even Linked List")

## [327. Count of Range Sum (Hard)](https://leetcode.com/problems/count-of-range-sum "区间和的个数")

<p>Given an integer array <code>nums</code>, return the number of range sums that lie in <code>[lower, upper]</code> inclusive.<br />
Range sum <code>S(i, j)</code> is defined as the sum of the elements in <code>nums</code> between indices <code>i</code> and <code>j</code> (<code>i</code> &le; <code>j</code>), inclusive.</p>

<p><b>Note:</b><br />
A naive algorithm of <i>O</i>(<i>n</i><sup>2</sup>) is trivial. You MUST do better than that.</p>

<p><b>Example:</b></p>

<pre>
<strong>Input: </strong><i>nums</i> = <code>[-2,5,-1]</code>, <i>lower</i> = <code>-2</code>, <i>upper</i> = <code>2</code>,
<strong>Output: </strong>3 
<strong>Explanation: </strong>The three ranges are : <code>[0,0]</code>, <code>[2,2]</code>, <code>[0,2]</code> and their respective sums are: <code>-2, -1, 2</code>.
</pre>

### Related Topics
  [[Sort](../../tag/sort/README.md)]
  [[Binary Indexed Tree](../../tag/binary-indexed-tree/README.md)]
  [[Segment Tree](../../tag/segment-tree/README.md)]
  [[Binary Search](../../tag/binary-search/README.md)]
  [[Divide and Conquer](../../tag/divide-and-conquer/README.md)]

### Similar Questions
  1. [Count of Smaller Numbers After Self](../count-of-smaller-numbers-after-self) (Hard)
  1. [Reverse Pairs](../reverse-pairs) (Hard)
